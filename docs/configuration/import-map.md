---
title: Deno & Import map
description: Configure deno and a Import map for your site
order: 6
---

${toc}

In JavaScript, the modules are imported using their urls. For example:

```js
import moduleName from "./module-file.js";
```

But this behavior can be changed with import maps. See
[Deno documentation of import maps for more info](https://deno.land/manual/linking_to_external_code/import_maps).

In Lume, the import map is injected automatically when you run the `lume`
command. This is the reason why in the `_config.ts` file you can import Lume
modules without expecifying the full path:

```js
import lume from "lume/mod.ts";
import jsx from "lume/plugins/jsx.ts";
```

Without an import map, this code will fail because Deno doesn't know where to
look for these files. The `lume` command runs Deno with a default import map to
avoid that. The import map generated by Lume is similar to this:

```json
{
  "imports": {
    "lume": "https://deno.land/x/lume@v1.7.0/mod.ts",
    "lume/": "https://deno.land/x/lume@v1.7.0/",
    "https://deno.land/x/lume/": "https://deno.land/x/lume@v1.7.0/",
    "lume/plugins/date/locale": "https://deno.land/x/date_fns@v2.22.1/locale"
  }
}
```

As you can see, the Lume's default import map includes only Lume imports, but
you may want to add more imports. To do that, you must create a
`import_map.json` file.

## Creating an import map file

To create a import map file, run the command `lume import-map`. Then you will
see 2 new files:

- `import_map.json`. This is the Lume's default import map with the Lume
  imports. You can edit this file to include your own imports.
- `deno.json`. It's detected and used automatically by Deno to configure things
  like the TypeScript compiler, formatter or linter. See
  [more info in Deno docs](https://deno.land/manual/getting_started/configuration_file).

## Deno configuration file

The `deno.json` file created by Lume is similar to this:

```json
{
  "importMap": "import_map.json",
  "tasks": {
    "build": "deno run -A https://deno.land/x/lume@v1.7.0/ci.ts",
    "serve": "deno task build -- -s"
  }
}
```

- The `importMap` key contains the path of the import map file used by Deno.
  This means the next time you run the `lume` command, this file will be used.
- The `tasks` key contains the tasks `build` and `serve`. This allows to run
  Lume without the `lume` command, with `deno task build` and `deno task serve`.

Deno supports `deno.json` and `deno.jsonc` extensions, but Lume only supports
`deno.json`. {.tip}

Now Lume (and therefore Deno) will use this import map file instead of the
default one.

If you use VS Code, this file will be loaded also by the Deno extension so it
will use also the same import map. {.tip}
